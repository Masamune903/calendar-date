# 日本の旧暦

## 算出ロジック

- 天文学的に算出するのではなく、事前に以下サービスから対応表を取得しておき導出する。

  暦API (<https://koyomi.zingsystem.com/>)

## 既知の問題と対応

- 2033年問題

  ### 概要

  ### 対応

---

## 旧暦について

### 旧暦とは

旧暦とは、日本における、日本版の天保暦という太陰太陽暦のことである。

### 天保暦とは

太陰太陽暦のひとつ。

- 天保暦からは、太陽暦のために利用している二十四節季は[定気法（実気法）](**定気法（実気法）**)が導入されている。

### 日本の太陰暦の月の基本

（天保暦も当てはまる）

- 朔を含む日を、朔日とする。
- 朔日から朔前日までをひと月とし、朔日を1日としてカウントする。

### 太陰太陽暦の月と閏月

#### 平気法 二十四節季と朔の関係

（天保暦(定気法)より前(平気法)での暦法）

太陰暦だけでは、1年の日数が太陽暦と異なるため年を重ねるごとに季節がずれていく。
この ずれ を解消するために、太陽の動きをもとに算出される閏月を導入する。

日本の太陰太陽暦では、太陽の動きを表すものとして 二十四節季 が使われる。

```plain
        朔                     朔          朔
  ...  [A月朔 ... n月中気 ... ][B月朔 ... ][C月朔 ... n+1月中気 ... ]
                  ^---------------------------------^
```

#### 平気法での閏月の決め方

- 月の中の中気が表す月が、その月の月名となる。
  - 雨水(正月中)を持つ月：1月
  - 春分(二月中)を持つ月：2月
  …
- 月の中に中気が無い時、その月は前の月の閏月となる。
  - 基本的には中気間よりも朔間の方が短いため、朔間に中気が無い時がある。

上記図において

- A月: n月
- B月: 閏n月
- C月: n+1月

#### 定気法 二十四節季と柵の関係

天保暦は定気法の二十四節季を用いており、特に冬は、朔間(29.3～29.8日)よりも、中気間(29.5日～)が短くなるため、1か月の間に中気が2回入り、その月が何月か定まらなくなる事態が起こり得る。

```plain
        朔                              朔
  ...  [A月朔 ... n月中気 ... n+1月中気 ][B月朔 ... n+2月中気 ... ]
                  ^----------^
```

#### 天保暦での閏月の決め方の基本

- 中気が2つ含まれる月が周辺にない場合、平気法の際と同様にナンバリングする。
- 中気が2つ含まれる月の前後では、24節気すべての月に対応させるのではなく、
  以下の4つの中が含まれている月が、その中の月になるように調整する。

  - 冬至（十一月中）: 11月
  - 春分（　二月中）:  2月
  - 夏至（　五月中）:  5月
  - 秋分（　八月中）:  8月

#### 2033年問題

天保暦の制約が強いことにより、ルールが適用できない事象が存在してしまった。
2033年では、秋分(8月)から冬至(11月)までの間が1か月しかなく、9月と10月を入れることができないため、どちらかを破綻させなければいけない問題。

#### 時憲暦での閏月の決め方

中国における、定気法を導入した暦である時憲暦では

- 冬至と次の冬至までの間に13か月ある場合、その年には閏月が発生する。
- 閏月の場所は、中気が入らない最初の月とする。

としており、冬至だけ合っていれば良く、問題にならない。
（古来、中国や日本の暦では冬至を基準にして考えていた。）

## 二十四節季について

### 二十四節季とは

太陽をもとに作られた1年を、24つに分けた季節。

全体を春夏秋冬に分け、さらにそれぞれを6つに分ける。それぞれ節気と中気が交互になっている。

| 月     | 節気               | 太陽黄経 | 中気               | 太陽黄経 |
| ------ | ------------------ | --------:| ------------------ | --------:|
| 正月   | 立春（りっしゅん） | 315°     | 雨水（うすい）     | 330°     |
| 二月   | 啓蟄（けいちつ）   | 345°     | 春分（しゅんぶん） | 0°       |
| 三月   | 清明（せいめい）   | 15°      | 穀雨（こくう）     | 30°      |
| 四月   | 立夏（りっか）     | 45°      | 小満（しょうまん） | 60°      |
| 五月   | 芒種（ぼうしゅ）   | 75°      | 夏至（げし）       | 90°      |
| 六月   | 小暑（しょうしょ） | 105°     | 大暑（たいしょ）   | 120°     |
| 七月   | 立秋（りっしゅう） | 135°     | 処暑（しょしょ）   | 150°     |
| 八月   | 白露（はくろ）     | 165°     | 秋分（しゅうぶん） | 180°     |
| 九月   | 寒露（かんろ）     | 195°     | 霜降（そうこう）   | 210°     |
| 十月   | 立冬（りっとう     | 225°     | 小雪（しょうせつ） | 240°     |
| 十一月 | 大雪（たいせつ）   | 240°     | 冬至（とうじ）     | 270°     |
| 十二月 | 小寒（しょうかん） | 255°     | 大寒（だいかん）   | 300°     |

### 気を配置する方法による種類

- **定気法（実気法）**
  : 太陽の視黄経が15°になる瞬間を持って定義される気の配置法。
    地球の地軸の向きと太陽との位置関係をもとに定義される。
    地球の公転を北極側真上から見た時に、

    - 地軸の北方向にちょうど太陽があるときを夏至
    - 地軸の南方向にちょうど太陽があると気を冬至
    - 地球の地軸と太陽への方角とがちょうど法線になるときを春分・秋分
    - その他、15°ずつ定義する。

    春分・秋分で昼と夜の時間が真に等しくなる。
    1気あたりの長さは不定（中気～中気･･･29.5～31.5日）
    （遠日点近くを通る夏は長く、近日点近くを通る冬は短い）
    天保暦から用いられている。

- **平気法（恒気法/常気法）**
  : 1年の長さを24等分（楕円面積を24等分）して定められる気の配置法。
    1気あたりの長さは一定（中気～中気･･･約30.4日）
    寛政暦までは用いられていた。

## 月の満ち欠けについて

### 朔

- 朔～朔の期間･･･29.3～29.8日

---

## 参照

- [国立天文台 旧暦2033年問題について](https://eco.mtk.nao.ac.jp/koyomi/topics/html/topics2014.html)
- [国立天文台 こよみ用語解説](https://eco.mtk.nao.ac.jp/koyomi/topics/html/topics2014.html)
- [国立天文台 暦Wiki 二十四節季の決め方](https://eco.mtk.nao.ac.jp/koyomi/wiki/B5A8C0E12FC6F3BDBDBBCDC0E1B5A4A4CEC4EAA4E1CAFD.html#w1c5cccb)
